{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/allodyaq/Tugas-3-KosHub-18223054/koshub/app/accommodations/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { accommodationApi, bookingApi, accommodationAuthApi } from '../lib/api';\nimport type { Accommodation, Booking } from '../types';\nimport { Building2, MapPin, DollarSign, Users, Calendar, LogIn, UserPlus, ExternalLink, X, AlertCircle, ArrowLeft, CheckCircle, Clock, XCircle } from 'lucide-react';\nimport { format } from 'date-fns';\n\nexport default function AccommodationsPage() {\n  const router = useRouter();\n  const [accommodations, setAccommodations] = useState<Accommodation[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [selectedAccommodation, setSelectedAccommodation] = useState<Accommodation | null>(null);\n  const [bookingDates, setBookingDates] = useState({\n    start_date: '',\n    end_date: '',\n  });\n  const [bookingLoading, setBookingLoading] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [userBookings, setUserBookings] = useState<Booking[]>([]);\n  const [showMyBookings, setShowMyBookings] = useState(false);\n\n  const [isAccommodationAuth, setIsAccommodationAuth] = useState(false);\n  const [accommodationUser, setAccommodationUser] = useState<any>(null);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [authMode, setAuthMode] = useState<'login' | 'register'>('login');\n  const [authLoading, setAuthLoading] = useState(false);\n  const [authError, setAuthError] = useState('');\n  const [authForm, setAuthForm] = useState({\n    email: '',\n    password: '',\n    name: '',\n  });\n\n  useEffect(() => {\n    const isAuth = accommodationAuthApi.isAuthenticated();\n    setIsAccommodationAuth(isAuth);\n    if (isAuth) {\n      setAccommodationUser(accommodationAuthApi.getUser());\n      fetchUserBookings();\n      fetchAccommodations(); // Only fetch accommodations when authenticated\n    } else {\n      setLoading(false); // Stop loading if not authenticated\n    }\n\n    // Auto-logout when leaving this page\n    return () => {\n      // Cleanup function runs when component unmounts (user navigates away)\n      if (accommodationAuthApi.isAuthenticated()) {\n        accommodationAuthApi.clearAuth();\n      }\n    };\n  }, []);\n\n  const fetchAccommodations = async (showLoading = true) => {\n    console.log('ðŸ  fetchAccommodations called, showLoading:', showLoading);\n    console.log('ðŸ”‘ Token exists:', !!accommodationAuthApi.getToken());\n    console.log('ðŸ‘¤ User:', accommodationAuthApi.getUser());\n\n    if (showLoading) setLoading(true);\n    setError('');\n    try {\n      console.log('ðŸ“¡ Calling accommodationApi.getAll()...');\n      const data = await accommodationApi.getAll();\n      console.log('âœ… Accommodations received:', data);\n      console.log('ðŸ“Š Is array:', Array.isArray(data));\n      console.log('ðŸ“ Length:', Array.isArray(data) ? data.length : 'not an array');\n\n      setAccommodations(Array.isArray(data) ? data : []);\n    } catch (err: any) {\n      console.error('âŒ Failed to load accommodations:', err);\n      console.error('âŒ Error response:', err.response?.data);\n      console.error('âŒ Error status:', err.response?.status);\n\n      if (accommodations.length === 0) {\n        setError('Unable to load accommodations. Please try again.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchUserBookings = async () => {\n    try {\n      const data = await bookingApi.getMyBookings();\n      setUserBookings(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error('Failed to load bookings:', err);\n    }\n  };\n\n  const handleBooking = async (accommodation: Accommodation) => {\n    if (!isAccommodationAuth) {\n      setSelectedAccommodation(accommodation);\n      setShowAuthModal(true);\n      return;\n    }\n\n    setSelectedAccommodation(accommodation);\n  };\n\n  const handleAccommodationAuth = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setAuthLoading(true);\n    setAuthError('');\n\n    try {\n      if (authMode === 'login') {\n        console.log('ðŸ” Attempting login...');\n        const response = await accommodationAuthApi.login({\n          email: authForm.email,\n          password: authForm.password,\n        });\n        console.log('âœ… Login response:', response);\n        console.log('ðŸŽ« Token:', response.access_token);\n\n        accommodationAuthApi.saveAuth(response.access_token, response.user);\n        console.log('ðŸ’¾ Token saved to localStorage');\n\n        setIsAccommodationAuth(true);\n        setAccommodationUser(response.user);\n        fetchUserBookings();\n        fetchAccommodations(); // Fetch accommodations after login\n      } else {\n        console.log('ðŸ“ Attempting register...');\n        const response = await accommodationAuthApi.register({\n          email: authForm.email,\n          password: authForm.password,\n          name: authForm.name,\n        });\n        console.log('âœ… Register response:', response);\n        console.log('ðŸŽ« Token:', response.access_token);\n\n        accommodationAuthApi.saveAuth(response.access_token, response.user);\n        console.log('ðŸ’¾ Token saved to localStorage');\n\n        setIsAccommodationAuth(true);\n        setAccommodationUser(response.user);\n        fetchUserBookings();\n        fetchAccommodations(); // Fetch accommodations after register\n      }\n      setShowAuthModal(false);\n      setAuthForm({ email: '', password: '', name: '' });\n      // Keep selectedAccommodation so user can continue booking\n    } catch (err: any) {\n      setAuthError(err.response?.data?.message || err.response?.data?.error || 'Authentication failed. Please try again.');\n    } finally {\n      setAuthLoading(false);\n    }\n  };\n\n  const handleLogoutAccommodation = () => {\n    accommodationAuthApi.clearAuth();\n    setIsAccommodationAuth(false);\n    setAccommodationUser(null);\n  };\n\n  const submitBooking = async () => {\n    if (!selectedAccommodation) return;\n\n    if (!bookingDates.start_date || !bookingDates.end_date) {\n      alert('Please select both start and end dates');\n      return;\n    }\n\n    setBookingLoading(true);\n    try {\n      await bookingApi.create({\n        accommodation_id: selectedAccommodation.accommodation_id,\n        start_date: bookingDates.start_date,\n        end_date: bookingDates.end_date,\n      });\n      setShowSuccessModal(true);\n      setSelectedAccommodation(null);\n      setBookingDates({ start_date: '', end_date: '' });\n      fetchUserBookings(); // Refresh bookings\n      setTimeout(() => {\n        setShowSuccessModal(false);\n      }, 3000);\n    } catch (err: any) {\n      alert(err.response?.data?.message || 'Failed to create booking');\n    } finally {\n      setBookingLoading(false);\n    }\n  };\n\n  const calculateDiscount = (price: number) => {\n    const discountRate = accommodationUser?.discount_rate || 0;\n    const discount = price * discountRate;\n    return { discount, finalPrice: price - discount };\n  };\n\n  const handleLogoutAndExit = () => {\n    accommodationAuthApi.clearAuth();\n    setIsAccommodationAuth(false);\n    setAccommodationUser(null);\n    router.push('/');\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status?.toUpperCase()) {\n      case 'SUCCESS':\n        return 'bg-green-100 text-green-800';\n      case 'PENDING':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'CANCELLED':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const handlePayBooking = async (bookingId: number, accommodationId: number) => {\n    try {\n      await bookingApi.updateStatus(bookingId, 'SUCCESS', accommodationId);\n      fetchUserBookings();\n    } catch (error) {\n      console.error('Failed to pay booking:', error);\n      alert('Failed to process payment');\n    }\n  };\n\n  const handleCancelBooking = async (bookingId: number, accommodationId: number) => {\n    if (confirm('Are you sure you want to cancel this booking?')) {\n      try {\n        await bookingApi.updateStatus(bookingId, 'CANCELLED', accommodationId);\n        fetchUserBookings();\n      } catch (error) {\n        console.error('Failed to cancel booking:', error);\n        alert('Failed to cancel booking');\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading accommodations...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Back Button */}\n        <div className=\"mb-6\">\n          <button\n            onClick={handleLogoutAndExit}\n            className=\"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 font-medium transition-colors\"\n          >\n            <ArrowLeft size={20} />\n            Back to Main Services\n          </button>\n        </div>\n\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center gap-2 bg-amber-100 text-amber-800 px-4 py-2 rounded-full text-sm font-medium mb-4\">\n            <ExternalLink size={16} />\n            External Partner Service\n          </div>\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Browse Accommodations</h1>\n          <p className=\"text-xl text-gray-600 mb-4\">Find your perfect kos from our partner service</p>\n          <p className=\"text-sm text-gray-500 max-w-2xl mx-auto\">\n            This service connects to our partner's accommodation booking system.\n            You'll need to login/register separately to make bookings.\n          </p>\n        </div>\n\n        <div className=\"max-w-2xl mx-auto mb-8\">\n          {isAccommodationAuth ? (\n            <div className=\"space-y-4\">\n              <div className=\"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white font-bold\">\n                    {accommodationUser?.name?.[0]?.toUpperCase() || accommodationUser?.email?.[0]?.toUpperCase() || 'U'}\n                  </div>\n                  <div>\n                    <p className=\"font-semibold text-green-800\">Logged in to Accommodation Service</p>\n                    <p className=\"text-sm text-green-600\">{accommodationUser?.email}</p>\n                    {accommodationUser?.membership_level && accommodationUser.membership_level !== 'BASIC' && (\n                      <span className=\"inline-block mt-1 bg-green-200 text-green-800 px-2 py-0.5 rounded-full text-xs font-semibold\">\n                        {accommodationUser.membership_level} - {(accommodationUser.discount_rate || 0) * 100}% discount\n                      </span>\n                    )}\n                  </div>\n                </div>\n                <button\n                  onClick={handleLogoutAccommodation}\n                  className=\"text-green-700 hover:text-green-900 text-sm font-medium\"\n                >\n                  Logout\n                </button>\n              </div>\n\n              {/* My Bookings Button */}\n              <button\n                onClick={() => setShowMyBookings(!showMyBookings)}\n                className=\"w-full bg-primary-600 text-white px-4 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors flex items-center justify-center gap-2\"\n              >\n                <Building2 size={18} />\n                {showMyBookings ? 'Browse Accommodations' : 'My Bookings'}\n              </button>\n            </div>\n          ) : (\n            <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4\">\n              <div className=\"flex items-start gap-3\">\n                <AlertCircle className=\"text-amber-600 flex-shrink-0 mt-0.5\" size={20} />\n                <div className=\"flex-1\">\n                  <p className=\"font-semibold text-amber-800\">Login Required for Booking</p>\n                  <p className=\"text-sm text-amber-700 mt-1\">\n                    To book accommodations, you need to login or register with our partner's accommodation service.\n                    This is separate from your KosHub Living Support account.\n                  </p>\n                  <button\n                    onClick={() => {\n                      setShowAuthModal(true);\n                      setAuthMode('login');\n                    }}\n                    className=\"mt-3 inline-flex items-center gap-2 bg-amber-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-amber-700 transition-colors\"\n                  >\n                    <LogIn size={16} />\n                    Login to Accommodation Service\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {error && (\n          <div className=\"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-lg mb-6 flex items-center justify-between\">\n            <span>{error}</span>\n            <button\n              onClick={() => fetchAccommodations()}\n              className=\"ml-4 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors text-sm font-medium\"\n            >\n              Retry\n            </button>\n          </div>\n        )}\n\n        {/* My Bookings Section */}\n        {showMyBookings && isAccommodationAuth && (\n          <div className=\"bg-white rounded-2xl shadow-lg p-8 mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">My Bookings</h2>\n            {userBookings.length === 0 ? (\n              <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\n                <Building2 className=\"mx-auto text-gray-400 mb-4\" size={64} />\n                <p className=\"text-xl text-gray-600 mb-2\">No bookings yet</p>\n                <p className=\"text-sm text-gray-500\">\n                  Browse accommodations and make your first booking!\n                </p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {userBookings.map((booking) => (\n                  <div\n                    key={booking.booking_id}\n                    className={`border rounded-lg p-6 ${booking.status === 'PENDING'\n                      ? 'border-yellow-300 bg-yellow-50'\n                      : booking.status === 'SUCCESS'\n                        ? 'border-green-200 bg-green-50'\n                        : 'border-gray-200'\n                      }`}\n                  >\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div>\n                        <div className=\"flex items-center gap-3 mb-2\">\n                          <h3 className=\"text-lg font-bold text-gray-900\">\n                            Booking #{booking.booking_id}\n                          </h3>\n                          <span\n                            className={`px-3 py-1 rounded-full text-sm font-semibold flex items-center gap-1 ${getStatusColor(\n                              booking.status\n                            )}`}\n                          >\n                            {booking.status === 'SUCCESS' && <CheckCircle size={14} />}\n                            {booking.status === 'PENDING' && <Clock size={14} />}\n                            {booking.status === 'CANCELLED' && <XCircle size={14} />}\n                            {booking.status}\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-600\">\n                          Accommodation ID: {booking.accommodation_id}\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"text-lg font-bold text-primary-600\">\n                          Rp {booking.final_price?.toLocaleString() || '0'}\n                        </p>\n                        {booking.discount_applied > 0 && (\n                          <p className=\"text-xs text-green-600\">\n                            Saved Rp {booking.discount_applied.toLocaleString()}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-4 text-sm text-gray-600 mb-4\">\n                      <span>\n                        Check-in: {format(new Date(booking.start_date), 'MMM dd, yyyy')}\n                      </span>\n                      <span>â†’</span>\n                      <span>\n                        Check-out: {format(new Date(booking.end_date), 'MMM dd, yyyy')}\n                      </span>\n                    </div>\n\n                    {booking.status === 'PENDING' && (\n                      <div className=\"flex gap-3 pt-4 border-t border-yellow-200\">\n                        <button\n                          onClick={() => handlePayBooking(booking.booking_id, booking.accommodation_id)}\n                          className=\"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center justify-center gap-2\"\n                        >\n                          <CheckCircle size={18} />\n                          Pay Now\n                        </button>\n                        <button\n                          onClick={() => handleCancelBooking(booking.booking_id, booking.accommodation_id)}\n                          className=\"px-4 py-2 border border-red-300 text-red-600 rounded-lg font-semibold hover:bg-red-50 transition-colors flex items-center gap-2\"\n                        >\n                          <XCircle size={18} />\n                          Cancel\n                        </button>\n                      </div>\n                    )}\n\n                    {booking.status === 'SUCCESS' && (\n                      <div className=\"pt-4 border-t border-green-200\">\n                        <p className=\"text-sm text-green-700 flex items-center gap-2\">\n                          <CheckCircle size={16} />\n                          Payment completed - Your booking is confirmed!\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Accommodations List - Hidden when showing My Bookings */}\n        {!showMyBookings && (\n          <>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n              {accommodations.map((accommodation) => {\n                const { discount, finalPrice } = calculateDiscount(accommodation.price);\n                return (\n                  <div\n                    key={accommodation.accommodation_id}\n                    className=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow\"\n                  >\n                    <div className=\"h-48 bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center\">\n                      <Building2 className=\"text-white\" size={64} />\n                    </div>\n                    <div className=\"p-6\">\n                      <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                        {accommodation.name}\n                      </h3>\n                      <div className=\"space-y-2 mb-4\">\n                        <div className=\"flex items-center text-gray-600\">\n                          <MapPin size={16} className=\"mr-2\" />\n                          <span className=\"text-sm\">{accommodation.address}, {accommodation.city}</span>\n                        </div>\n                        <div className=\"flex items-center text-gray-600\">\n                          <Users size={16} className=\"mr-2\" />\n                          <span className=\"text-sm\">\n                            {accommodation.available_units} / {accommodation.total_units} units available\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"border-t pt-4\">\n                        <div className=\"flex items-baseline gap-2 mb-2\">\n                          <DollarSign size={20} className=\"text-primary-600\" />\n                          {discount > 0 ? (\n                            <>\n                              <span className=\"text-gray-400 line-through text-lg\">\n                                Rp {accommodation.price.toLocaleString()}\n                              </span>\n                              <span className=\"text-2xl font-bold text-primary-600\">\n                                Rp {finalPrice.toLocaleString()}\n                              </span>\n                            </>\n                          ) : (\n                            <span className=\"text-2xl font-bold text-primary-600\">\n                              Rp {accommodation.price.toLocaleString()}\n                            </span>\n                          )}\n                          <span className=\"text-gray-500 text-sm\">/ month</span>\n                        </div>\n                        {discount > 0 && (\n                          <p className=\"text-sm text-green-600 font-semibold mb-4\">\n                            You save Rp {discount.toLocaleString()}!\n                          </p>\n                        )}\n                      </div>\n                      <button\n                        onClick={() => handleBooking(accommodation)}\n                        disabled={accommodation.available_units === 0}\n                        className=\"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                      >\n                        {accommodation.available_units === 0 ? (\n                          'Fully Booked'\n                        ) : !isAccommodationAuth ? (\n                          <>\n                            <LogIn size={18} />\n                            Login to Book\n                          </>\n                        ) : (\n                          'Book Now'\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n\n            {accommodations.length === 0 && !loading && (\n              <div className=\"text-center py-12\">\n                <Building2 className=\"mx-auto text-gray-400 mb-4\" size={64} />\n                {!isAccommodationAuth ? (\n                  <>\n                    <p className=\"text-xl text-gray-600 mb-2\">Login Required</p>\n                    <p className=\"text-sm text-gray-500 mb-4\">\n                      Please login to browse available accommodations\n                    </p>\n                    <button\n                      onClick={() => {\n                        setShowAuthModal(true);\n                        setAuthMode('login');\n                      }}\n                      className=\"inline-flex items-center gap-2 bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors\"\n                    >\n                      <LogIn size={18} />\n                      Login to Browse\n                    </button>\n                  </>\n                ) : (\n                  <p className=\"text-xl text-gray-600\">No accommodations available at the moment</p>\n                )}\n              </div>\n            )}\n          </>\n        )}\n\n        {showAuthModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl max-w-md w-full p-8 relative\">\n              <button\n                onClick={() => {\n                  setShowAuthModal(false);\n                  setAuthError('');\n                  setAuthForm({ email: '', password: '', name: '' });\n                  if (!isAccommodationAuth) {\n                    setSelectedAccommodation(null);\n                  }\n                }}\n                className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600\"\n              >\n                <X size={24} />\n              </button>\n\n              <div className=\"text-center mb-6\">\n                <div className=\"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-4\">\n                  <Building2 className=\"text-primary-600\" size={32} />\n                </div>\n                <h2 className=\"text-2xl font-bold text-gray-900\">\n                  {authMode === 'login' ? 'Login to Accommodation Service' : 'Register for Accommodation Service'}\n                </h2>\n                <p className=\"text-sm text-gray-500 mt-2\">\n                  This is our partner's booking system with separate authentication\n                </p>\n              </div>\n\n              {authError && (\n                <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-4 text-sm\">\n                  {authError}\n                </div>\n              )}\n\n              <form onSubmit={handleAccommodationAuth} className=\"space-y-4\">\n                {authMode === 'register' && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Name</label>\n                    <input\n                      type=\"text\"\n                      value={authForm.name}\n                      onChange={(e) => setAuthForm({ ...authForm, name: e.target.value })}\n                      required\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                      placeholder=\"Enter your name\"\n                    />\n                  </div>\n                )}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\n                  <input\n                    type=\"email\"\n                    value={authForm.email}\n                    onChange={(e) => setAuthForm({ ...authForm, email: e.target.value })}\n                    required\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                    placeholder=\"Enter your email\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Password</label>\n                  <input\n                    type=\"password\"\n                    value={authForm.password}\n                    onChange={(e) => setAuthForm({ ...authForm, password: e.target.value })}\n                    required\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                    placeholder=\"Enter your password\"\n                  />\n                </div>\n                <button\n                  type=\"submit\"\n                  disabled={authLoading}\n                  className=\"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:bg-gray-400 flex items-center justify-center gap-2\"\n                >\n                  {authLoading ? (\n                    <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                  ) : authMode === 'login' ? (\n                    <>\n                      <LogIn size={18} />\n                      Login\n                    </>\n                  ) : (\n                    <>\n                      <UserPlus size={18} />\n                      Register\n                    </>\n                  )}\n                </button>\n              </form>\n\n              <div className=\"mt-6 text-center\">\n                <p className=\"text-sm text-gray-600\">\n                  {authMode === 'login' ? (\n                    <>\n                      Don't have an account?{' '}\n                      <button\n                        onClick={() => {\n                          setAuthMode('register');\n                          setAuthError('');\n                        }}\n                        className=\"text-primary-600 font-semibold hover:underline\"\n                      >\n                        Register here\n                      </button>\n                    </>\n                  ) : (\n                    <>\n                      Already have an account?{' '}\n                      <button\n                        onClick={() => {\n                          setAuthMode('login');\n                          setAuthError('');\n                        }}\n                        className=\"text-primary-600 font-semibold hover:underline\"\n                      >\n                        Login here\n                      </button>\n                    </>\n                  )}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {selectedAccommodation && isAccommodationAuth && !showAuthModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl max-w-md w-full p-8\">\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Book {selectedAccommodation.name}</h2>\n              <div className=\"space-y-4 mb-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    <Calendar size={16} className=\"inline mr-1\" />\n                    Start Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={bookingDates.start_date}\n                    onChange={(e) => setBookingDates({ ...bookingDates, start_date: e.target.value })}\n                    min={format(new Date(), 'yyyy-MM-dd')}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    <Calendar size={16} className=\"inline mr-1\" />\n                    End Date\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={bookingDates.end_date}\n                    onChange={(e) => setBookingDates({ ...bookingDates, end_date: e.target.value })}\n                    min={bookingDates.start_date || format(new Date(), 'yyyy-MM-dd')}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  />\n                </div>\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <div className=\"flex justify-between mb-2\">\n                    <span className=\"text-gray-600\">Base Price:</span>\n                    <span className=\"font-semibold\">Rp {selectedAccommodation.price.toLocaleString()}</span>\n                  </div>\n                  {calculateDiscount(selectedAccommodation.price).discount > 0 && (\n                    <>\n                      <div className=\"flex justify-between mb-2\">\n                        <span className=\"text-gray-600\">Discount:</span>\n                        <span className=\"text-green-600 font-semibold\">\n                          - Rp {calculateDiscount(selectedAccommodation.price).discount.toLocaleString()}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between pt-2 border-t\">\n                        <span className=\"font-bold\">Final Price:</span>\n                        <span className=\"font-bold text-primary-600\">\n                          Rp {calculateDiscount(selectedAccommodation.price).finalPrice.toLocaleString()}\n                        </span>\n                      </div>\n                    </>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex gap-4\">\n                <button\n                  onClick={() => {\n                    setSelectedAccommodation(null);\n                    setBookingDates({ start_date: '', end_date: '' });\n                  }}\n                  className=\"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={submitBooking}\n                  disabled={bookingLoading}\n                  className=\"flex-1 px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400\"\n                >\n                  {bookingLoading ? 'Booking...' : 'Confirm Booking'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {showSuccessModal && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-xl shadow-lg p-8 max-w-sm w-full text-center animate-fade-in\">\n              <div className=\"flex items-center justify-center mb-4\">\n                <span className=\"inline-block bg-green-100 text-green-600 rounded-full p-3\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" /></svg>\n                </span>\n              </div>\n              <h3 className=\"text-2xl font-bold mb-2 text-green-700\">Booking Successful!</h3>\n              <p className=\"text-gray-700 mb-4\">Your accommodation has been booked successfully.</p>\n              <button\n                onClick={() => setShowSuccessModal(false)}\n                className=\"mt-2 px-6 py-2 bg-primary-600 text-white rounded-lg font-semibold hover:bg-primary-700 transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}